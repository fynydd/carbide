@inherits Umbraco.Web.Mvc.UmbracoViewPage
@using Fynydd.Carbide
@using Carbide.Web.Helpers
@{
    Layout = "Master.cshtml";

    var home = Model.AncestorOrSelf(1);

    Html.ViewData.Add(new KeyValuePair<string, object>("cssSelector", ".carbide_basic_theme"));
    Html.RenderPartial("_Partial_CSS_Custom_Properties", home, Html.ViewData);
    Html.ViewData.Clear();

    var primaryNavigation = home.Children().First(c => c.ContentType.Alias == "carbideBasicNavigationUnit" && c.SafeValue("position") == "Primary");
    var footerNavigation = home.Children().First(c => c.ContentType.Alias == "carbideBasicNavigationUnit" && c.SafeValue("position") == "Footer");

    if (primaryNavigation != null)
    {
        Html.ViewData.Add(new KeyValuePair<string, object>("instanceId", "primary-navigation"));
        Html.RenderPartial("_Partial_Carbide_Basic_Navigation_Unit", primaryNavigation, Html.ViewData);
        Html.ViewData.Clear();
    }

    Html.RenderPartial("_Partial_Render_Content_Units");

    if (footerNavigation != null)
    {
        Html.ViewData.Add(new KeyValuePair<string, object>("instanceId", "footer-navigation"));
        Html.RenderPartial("_Partial_Carbide_Basic_Navigation_Unit", footerNavigation, Html.ViewData);
        Html.ViewData.Clear();
    }
}
