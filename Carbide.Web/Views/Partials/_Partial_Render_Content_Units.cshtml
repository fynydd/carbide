@inherits Umbraco.Web.Mvc.UmbracoViewPage
@using ContentModels = Umbraco.Web.PublishedModels
@using System.Xml
@using System.Xml.Linq
@using Umbraco.Core
@using Umbraco.Core.IO
@using Umbraco.Core.Models.Packaging
@using Umbraco.Core.Services

@using Carbide.Web.Helpers
@using Fynydd.Carbide
@{
    foreach (var content in Model.Children().OrderBy(o => o.SortOrder))
    {
        if (content.HasProperty("enabled") && content.SafeValue<bool>("enabled"))
        {
            Html.ViewData.Add(new KeyValuePair<string, object>("instanceId", content.Name.AsCssSelector()));

            if (content.ContentType.Alias == "carbideSimpleHeroUnit")
            {
                Html.RenderPartial("_Partial_Carbide_Simple_Hero_Unit", content, Html.ViewData);
            }

            if (content.ContentType.Alias == "carbideContainerUnit")
            {
                Html.RenderPartial("_Partial_Carbide_Container_Unit", content, Html.ViewData);
            }

            Html.ViewData.Clear();
        }
    }
}
